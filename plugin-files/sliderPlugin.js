(()=>{"use strict";var t={130:(t,e,i)=>{i.d(e,{Z:()=>o});var s=i(645),n=i.n(s)()((function(t){return t[1]}));n.push([t.id,"// extracted by mini-css-extract-plugin\nexport {};",""]);const o=n},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=t(e);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,s){"string"==typeof t&&(t=[[null,t,""]]);var n={};if(s)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<t.length;a++){var l=[].concat(t[a]);s&&n[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),e.push(l))}},e}},379:(t,e,i)=>{var s,n=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}(),o=[];function r(t){for(var e=-1,i=0;i<o.length;i++)if(o[i].identifier===t){e=i;break}return e}function a(t,e){for(var i={},s=[],n=0;n<t.length;n++){var a=t[n],l=e.base?a[0]+e.base:a[0],d=i[l]||0,c="".concat(l," ").concat(d);i[l]=d+1;var h=r(c),u={css:a[1],media:a[2],sourceMap:a[3]};-1!==h?(o[h].references++,o[h].updater(u)):o.push({identifier:c,updater:p(u,e),references:1}),s.push(c)}return s}function l(t){var e=document.createElement("style"),s=t.attributes||{};if(void 0===s.nonce){var o=i.nc;o&&(s.nonce=o)}if(Object.keys(s).forEach((function(t){e.setAttribute(t,s[t])})),"function"==typeof t.insert)t.insert(e);else{var r=n(t.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}return e}var d,c=(d=[],function(t,e){return d[t]=e,d.filter(Boolean).join("\n")});function h(t,e,i,s){var n=i?"":s.media?"@media ".concat(s.media," {").concat(s.css,"}"):s.css;if(t.styleSheet)t.styleSheet.cssText=c(e,n);else{var o=document.createTextNode(n),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(o,r[e]):t.appendChild(o)}}function u(t,e,i){var s=i.css,n=i.media,o=i.sourceMap;if(n?t.setAttribute("media",n):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=s;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(s))}}var f=null,m=0;function p(t,e){var i,s,n;if(e.singleton){var o=m++;i=f||(f=l(e)),s=h.bind(null,i,o,!1),n=h.bind(null,i,o,!0)}else i=l(e),s=u.bind(null,i,e),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return s(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;s(t=e)}else n()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===s&&(s=Boolean(window&&document&&document.all&&!window.atob)),s));var i=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var s=0;s<i.length;s++){var n=r(i[s]);o[n].references--}for(var l=a(t,e),d=0;d<i.length;d++){var c=r(i[d]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}i=l}}}},609:t=>{t.exports=jQuery}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var o=e[s]={id:s,exports:{}};return t[s](o,o.exports,i),o.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t=i(379),e=i.n(t),s=i(130);e()(s.Z,{insert:"head",singleton:!1}),s.Z.locals;const n={firstValue:0,secondValue:0,isRange:!0,max:100,min:0,step:1},o={target:void 0,isHorizontal:!0,isRange:!0,hasTooltip:!0,hasProgressBar:!0,hasScale:!0};var r,a;!function(t){t.valueChanged="valueChanged",t.pointStopped="pointStopped",t.pointMoving="pointMoving",t.stepsUpdate="stepsUpdate",t.updatePoint="updatePoint",t.configChanged="configChanged",t.elementsRendered="elementsRendered"}(r||(r={})),function(t){t.firstPoint="firstPoint",t.secondPoint="secondPoint"}(a||(a={}));const l=class{constructor(){this.events={}}emit(t,e){const i=this.events[t];i&&i.forEach((t=>t(e)))}subscribe(t,e){const i=this.events[t];return i&&!i.includes(e)?i.push(e):this.events[t]=[e],this}},d=class extends l{constructor(t){super(),this.config=n,t&&this.updateConfig(t)}updateConfig(t){"object"==typeof t&&(this.config={...this.config,...t},this.validate(),this.notifyListeners())}getConfig(){return this.config}correctStepPoint(t){const{max:e,min:i,step:s}=this.config,{pointOffset:n}=t,o=100*s/(e-i),r=[];for(let t=0;t<100;t+=o)t=this.roundByStep(t),r.push(t);r.push(100);const a=r.find(((t,e,i)=>{const s=(t+i[e+1])/2;return n<=s}));this.updatePoint({...t,pointOffset:a??100})}changeValue(t){const{max:e,min:i}=this.config,{value:s,pointName:n}=t,o=100/(e-i)*(s-i);this.correctStepPoint({value:s,pointName:n,pointOffset:o})}updatePoint(t){const e=this.calcValue(t);this.emit(r.updatePoint,{...t,value:e}),"firstPoint"!==t.pointName||Number.isNaN(e)||(this.config.firstValue=e),"secondPoint"!==t.pointName||Number.isNaN(e)||(this.config.secondValue=e)}notifyListeners(){const{firstValue:t,secondValue:e}=this.config;this.changeValue({value:t,pointName:"firstPoint"}),this.changeValue({value:e,pointName:"secondPoint"}),this.updateSteps()}validate(){this.validateMinMax(),this.validateValues(),this.validateStep()}validateValues(){let{firstValue:t,secondValue:e}=this.config;"number"!=typeof t&&(t=Number(t)),"number"!=typeof e&&(e=Number(e)),Number.isNaN(t)&&(t=0),Number.isNaN(e)&&(e=1),t>=e&&(t=e-1),e<=t&&(e=t+1),this.config={...this.config,firstValue:t,secondValue:e}}validateMinMax(){let{max:t,min:e}=this.config;"number"!=typeof e&&(e=Number(e)),"number"!=typeof t&&(t=Number(t)),Number.isNaN(t)&&(t=100),Number.isNaN(e)&&(e=0),e>=t&&(e=t-1),t<=e&&(t=e+1),this.config={...this.config,max:t,min:e}}validateStep(){const{max:t,min:e}=this.config;let{step:i}=this.config;"number"!=typeof i&&(i=Number(i)),Number.isNaN(i)&&(i=1),i>=t-e&&(i=t-e),i<=0&&(i=1);const s=i=>200*i>t-e?i:s(i+1);i=s(i),this.config={...this.config,step:i}}updateSteps(){const t=this.calcSteps();this.emit(r.stepsUpdate,t)}roundByStep(t){const{step:e}=this.config,i=Number.isInteger(e),s=String(e).split(".").pop().length;return Number(i?t.toFixed(0):t.toFixed(s))}calcValue(t){const{max:e,min:i}=this.config,{pointOffset:s}=t,n=i+s*(e-i)/100,o=this.roundByStep(n);return o===e?o:this.findNearestValue(o)}calcSteps(){const{max:t,min:e,step:i}=this.config,s=[];let n,o=e;for(;o<t;o+=i)n=this.findNearestValue(o),s.push(n);return s.push(t),s}findNearestValue(t){const{max:e,min:i,step:s}=this.config,n=this.roundByStep(t),o=[];for(let t=i;t<e;t+=s)this.roundByStep(t),o.push(t);o.push(e);const r=o.find(((t,e,i)=>{const s=(t+i[e+1])/2;return n<=s}));return this.roundByStep(r??e)}},c=class{constructor(t,e){this.createTooltip(t,e)}changeValue(t){this.divElement.innerHTML=`${t}`}getValue(){return Number(this.divElement.innerHTML)}hide(){const t="slider__tooltip_hidden";this.divElement.classList.add(t),this.divElement.classList.add(`js-${t}`)}show(){const t="slider__tooltip_hidden";this.divElement.classList.remove(t),this.divElement.classList.remove(`js-${t}`)}getOffset(){return this.isHorizontal?this.divElement.getBoundingClientRect().left:this.divElement.getBoundingClientRect().top}addModifierTotal(){const t="slider__tooltip_type_total";this.divElement.classList.add(t),this.divElement.classList.add(`js-${t}`)}createTooltip(t,e){this.isHorizontal=t.isHorizontal,this.divElement=document.createElement("div");const i="slider__tooltip";if(this.divElement.className=`${i} js-${i}`,!this.isHorizontal){const t="slider__tooltip_vertical";this.divElement.classList.add(t),this.divElement.classList.add(`js-${t}`)}this.divElement.innerHTML="0",e.append(this.divElement),t.hasTooltip||this.hide()}},h=class{constructor(t,e){this.createPoint(t,e)}movePoint(t){const e=this.isHorizontal?"left":"top";let i=t;i<0&&(i=0),i>100&&(i=100),this.divElement.style[e]=`${i}%`}getOffset(){const t=this.isHorizontal?"offsetLeft":"offsetTop",e=this.isHorizontal?"offsetWidth":"offsetHeight";return 100*this.divElement[t]/this.root[e]}addTarget(){const t="slider__point_target";this.divElement.classList.add(t),this.divElement.classList.add(`js-${t}`)}removeTarget(){const t="slider__point_target";this.divElement.classList.remove(t),this.divElement.classList.remove(`js-${t}`)}createPoint(t,e){this.root=e,this.isHorizontal=t.isHorizontal,this.divElement=document.createElement("div");const i="slider__point";if(this.divElement.className=`${i} js-${i}`,!this.isHorizontal){const t="slider__point_vertical";this.divElement.classList.add(t),this.divElement.classList.add(`js-${t}`)}this.root.append(this.divElement),this.createTooltip(t)}createTooltip(t){this.tooltip=new c(t,this.divElement)}},u=class extends l{constructor(t){super(),this.init(t)}updateConfig(t){"object"==typeof t&&(this.config={...this.config,...t},this.removeElements(),this.renderElements(),this.addHandlers())}getConfig(){return this.config}updatePoints(t){const{pointOffset:e,pointName:i,value:s}=t;"firstPoint"===i&&(this.firstPoint.movePoint(e),this.firstPoint.tooltip.changeValue(s)),"secondPoint"===i&&(this.secondPoint?.movePoint(e),this.secondPoint?.tooltip.changeValue(s)),this.progressBar.changeSize(),this.joinTooltips()}updateScale(t){this.scale.updateValues(t),this.addScaleHandler()}init(t){this.config=o,this.renderElements(),this.addHandlers(),t&&this.updateConfig(t)}renderElements(){const{config:t}=this,e=new class{constructor(t){t?this.divElement=t:this.searchContainer(),this.divElement||this.createContainer()}searchContainer(){const t=document.querySelector("[data-slider]");t&&(this.divElement=t)}createContainer(){const t=document.createElement("div");t.classList.add("slider"),document.body.append(t),this.divElement=t}}(t.target);this.field=new class{constructor(t,e){this.createField(t,e)}createField(t,e){this.divElement=document.createElement("div");const i="slider__field";if(this.divElement.className=`${i} js-${i}`,!t.isHorizontal){const t="slider__field_vertical";this.divElement.classList.add(t),this.divElement.classList.add(`js-${t}`)}e.append(this.divElement)}}(t,e.divElement),this.firstPoint=new h(t,this.field.divElement),this.scale=new class{constructor(t,e){this.init(t,e),this.createScale()}updateValues(t){this.calcScaleOffsets(t),this.divElement.innerHTML="";const e=this.isHorizontal?"left":"top",i="scale__value",s=this.isHorizontal?"":`${i}_vertical js-${i}_vertical`;t.forEach(((t,n)=>{const o=`${e}: ${this.scaleOffsets[n]}%`;this.divElement.insertAdjacentHTML("beforeend",`<div class="${i} ${s}" style="${o}">${t}</div>`)})),this.removeExtraValues()}hideScale(){const t="slider__scale_hidden";this.divElement.classList.add(t),this.divElement.classList.add(`js-${t}`)}showScale(){const t="slider__scale_hidden";this.divElement.classList.remove(t),this.divElement.classList.remove(`js-${t}`)}init(t,e){const{isHorizontal:i,hasScale:s}=t;this.root=e,this.isHorizontal=i,this.hasScale=s}createScale(){this.divElement=document.createElement("div");const t="slider__scale";if(this.divElement.className=`${t} js-${t}`,!this.isHorizontal){const t="slider__scale_vertical";this.divElement.classList.add(t),this.divElement.classList.add(`js-${t}`)}this.root.append(this.divElement),this.hasScale||this.hideScale()}calcScaleOffsets(t){const e=t[0],i=t[t.length-1];this.scaleOffsets=[];const s=100/(i-e);t.forEach((t=>{const i=t-e;this.scaleOffsets.push(i*s)}))}removeExtraValues(){const t=Array.from(this.divElement.children),e=this.isHorizontal?"left":"top",i=this.isHorizontal?"right":"bottom",s=t=>t.getBoundingClientRect()[e]<t.previousElementSibling.getBoundingClientRect()[i]+5;t.forEach(((t,e,i)=>{0!==e&&(i.length-1!==e?s(t)&&t.remove():s(t)&&t.previousElementSibling.remove())}))}}(t,e.divElement),t.isRange&&(this.secondPoint=new h(t,this.field.divElement),this.tooltipTotal=new c(t,this.firstPoint.divElement),this.tooltipTotal.addModifierTotal()),this.progressBar=new class{constructor(t){this.init(t),this.createElement()}changeSize(){const t=this.isHorizontal?"width":"height",e=this.firstPoint.getOffset();if(this.divElement.style[t]=`${e}%`,this.isRange&&this.secondPoint){const i=this.secondPoint.getOffset(),s=this.isHorizontal?"left":"top";this.divElement.style[s]=`${e}%`;const n=i-e;this.divElement.style[t]=`${n}%`}this.changeColor()}hide(){const t="slider__bar_hidden";this.divElement.classList.add(t),this.divElement.classList.add(`js-${t}`)}show(){const t="slider__bar_hidden";this.divElement.classList.remove(t),this.divElement.classList.remove(`js-${t}`)}init(t){const{isHorizontal:e,isRange:i,hasProgressBar:s,firstPoint:n,secondPoint:o,root:r}=t;this.root=r,this.firstPoint=n,this.secondPoint=o,this.isHorizontal=e,this.hasProgressBar=s,this.isRange=i}createElement(){this.divElement=document.createElement("div");const t="progressBar";if(this.divElement.className=`${t} js-${t}`,!this.isHorizontal){const t="progressBar_vertical";this.divElement.classList.add(t),this.divElement.classList.add(`js-${t}`)}this.root.append(this.divElement),this.hasProgressBar||this.hide()}changeColor(){const t=this.isHorizontal?"offsetWidth":"offsetHeight",e=this.root[t],i=this.divElement[t];this.divElement.classList.remove(this.styleColor),this.divElement.classList.remove(`js-${this.styleColor}`),i<=e/4&&(this.styleColor="progressBar_color_first"),i>=e/4&&(this.styleColor="progressBar_color_second"),i>=e/2&&(this.styleColor="progressBar_color_third"),i>=e&&(this.styleColor="progressBar_color_fourth"),this.divElement.classList.add(this.styleColor),this.divElement.classList.add(`js-${this.styleColor}`)}}({root:this.field.divElement,firstPoint:this.firstPoint,secondPoint:this?.secondPoint,...t})}removeElements(){[this.firstPoint.divElement,this.field.divElement,this.progressBar.divElement,this.scale.divElement,this.secondPoint?.divElement].forEach((t=>t.remove()))}addHandlers(){this.getMouseCoords(),this.addFieldHandler(),this.addPointHandler()}getMouseCoords(){document.addEventListener("mousemove",(t=>{const e=this.config.isHorizontal?"left":"top",i=this.config.isHorizontal?"clientX":"clientY",s=this.config.isHorizontal?"offsetWidth":"offsetHeight",n=t[i]-this.field.divElement.getBoundingClientRect()[e];this.mouseCoords=100*n/this.field.divElement[s]}))}getFirstPointData(){return{pointOffset:this.firstPoint.getOffset(),pointName:"firstPoint"}}getSecondPointData(){return{pointOffset:this.secondPoint?.getOffset(),pointName:"secondPoint"}}addPointHandler(){const t=t=>{this.isFirstPointClosest(t)?this.handlePoint(this.firstPoint,this.getFirstPointData.bind(this)):this.handlePoint(this.secondPoint,this.getSecondPointData.bind(this))};this.firstPoint.divElement.addEventListener("mousedown",t),this.secondPoint?.divElement.addEventListener("mousedown",t)}addFieldHandler(){this.field.divElement.addEventListener("mousedown",(t=>{this.isFirstPointClosest(t)?(this.firstPoint.movePoint(this.mouseCoords),this.emit(r.pointStopped,this.getFirstPointData())):(this.secondPoint.movePoint(this.mouseCoords),this.emit(r.pointStopped,this.getSecondPointData()))}))}addScaleHandler(){const t=t=>{const e=t.currentTarget.innerHTML;this.isFirstPointClosest(t)?this.emit(r.valueChanged,{value:e,...this.getFirstPointData()}):this.emit(r.valueChanged,{value:e,...this.getSecondPointData()})};this.scale.divElement.querySelectorAll("div").forEach((e=>e.addEventListener("click",t)))}handlePoint(t,e){const i=this.mouseCoords-t.getOffset(),s=()=>{t.movePoint(this.mouseCoords-i),this.demarcatePoints(e().pointName),this.emit(r.pointMoving,e())};document.addEventListener("mousemove",s),document.onmouseup=()=>{document.removeEventListener("mousemove",s),this.emit(r.pointStopped,e()),document.onmouseup=null}}isFirstPointClosest(t){const{config:e,firstPoint:i,secondPoint:s,mouseCoords:n}=this;if(!e.isRange)return!0;if(t.target===i.divElement)return!0;if(t.target===s.divElement)return!1;const o=i.getOffset();return!(n>(s.getOffset()+o)/2)}demarcatePoints(t){const{config:e,firstPoint:i,secondPoint:s}=this;e.isRange&&("firstPoint"===t?(i.addTarget(),s.removeTarget()):(s.addTarget(),i.removeTarget()),i.getOffset()<=s.getOffset()||("firstPoint"===t?i.movePoint(s.getOffset()):s.movePoint(i.getOffset())))}joinTooltips(){const{config:t,firstPoint:e,secondPoint:i}=this;if(!t.hasTooltip||!t.isRange)return;const s=t.isHorizontal?"offsetWidth":"offsetHeight",n=e.tooltip,o=i.tooltip,r=n.getOffset()+n.divElement[s],a=o.getOffset(),l=(a-r)/2+"px",d=t.isHorizontal?"left":"top";this.tooltipTotal.divElement.style[d]=l;const c=n.getValue(),h=o.getValue(),u=`${c}${t.isHorizontal?" - ":" "}${h}`;this.tooltipTotal.divElement.innerHTML=u,r>=a?(n.hide(),o.hide(),this.tooltipTotal.show()):(n.show(),o.show(),this.tooltipTotal.hide())}};var f,m,p,v,g,E,P=i(609);class b extends l{constructor(t){super(),this.model=new d,this.view=new u,this.presenter=new class{constructor(t,e){this.model=t,this.view=e,this.subscribeListeners()}subscribeListeners(){const{model:t,view:e}=this;t.subscribe(r.stepsUpdate,e.updateScale.bind(e)).subscribe(r.updatePoint,e.updatePoints.bind(e)),e.subscribe(r.valueChanged,t.changeValue.bind(t)).subscribe(r.pointMoving,t.updatePoint.bind(t)).subscribe(r.pointStopped,t.correctStepPoint.bind(t))}}(this.model,this.view),this.updateConfig(t)}setValue(t,e){"firstPoint"===t&&this.model.changeValue({value:e,pointName:"firstPoint"}),"secondPoint"===t&&this.model.changeValue({value:e,pointName:"secondPoint"})}updateConfig(t){const e=(t=>{const e=Object.keys(n),i=Object.entries(t);let s={};return i.forEach((([t,i])=>{e.includes(t)&&(s={...s,[t]:i})})),s})(t),i=(t=>{const e=Object.keys(o),i=Object.entries(t);let s={};return i.forEach((([t,i])=>{e.includes(t)&&(s={...s,[t]:i})})),s})(t);Object.keys(i).length>0&&this.view.updateConfig(i),this.model.updateConfig(e),this.emit(r.configChanged,{...this.model.getConfig(),...this.view.getConfig()})}getConfig(){return{...this.model.getConfig(),...this.view.getConfig()}}subscribe(t,e){return super.subscribe(t,e),this.model.subscribe(t,e),this.view.subscribe(t,e),this}}f=P,P.fn.sliderPlugin=function(t){return this.each((function(){f.data(this,"sliderPlugin")||f.data(this,"sliderPlugin",new b({...t,target:this}))}))},m="C:\\Users\\user\\Desktop\\GitHub\\slider\\src\\slider\\index.js",p="426de0d162245950e482d13ba795efcc9fe5db6e",g={path:"C:\\Users\\user\\Desktop\\GitHub\\slider\\src\\slider\\index.js",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:null,_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},(E=(v=new(0,function(){}.constructor)("return this")())["__coverage__"]||(v.__coverage__={}))[m]&&E[m].hash===p?E[m]:(g.hash=p,E[m]=g)})()})();