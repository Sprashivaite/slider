(()=>{"use strict";var t={28:(t,e,i)=>{i.d(e,{Z:()=>o});var s=i(645),n=i.n(s)()((function(t){return t[1]}));n.push([t.id,"// extracted by mini-css-extract-plugin\nexport {};",""]);const o=n},788:(t,e,i)=>{i.d(e,{Z:()=>o});var s=i(645),n=i.n(s)()((function(t){return t[1]}));n.push([t.id,"// extracted by mini-css-extract-plugin\nexport {};",""]);const o=n},462:(t,e,i)=>{i.d(e,{Z:()=>o});var s=i(645),n=i.n(s)()((function(t){return t[1]}));n.push([t.id,"// extracted by mini-css-extract-plugin\nexport {};",""]);const o=n},52:(t,e,i)=>{i.d(e,{Z:()=>o});var s=i(645),n=i.n(s)()((function(t){return t[1]}));n.push([t.id,"// extracted by mini-css-extract-plugin\nexport {};",""]);const o=n},951:(t,e,i)=>{i.d(e,{Z:()=>o});var s=i(645),n=i.n(s)()((function(t){return t[1]}));n.push([t.id,"// extracted by mini-css-extract-plugin\nexport {};",""]);const o=n},487:(t,e,i)=>{i.d(e,{Z:()=>o});var s=i(645),n=i.n(s)()((function(t){return t[1]}));n.push([t.id,"// extracted by mini-css-extract-plugin\nexport {};",""]);const o=n},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=t(e);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,s){"string"==typeof t&&(t=[[null,t,""]]);var n={};if(s)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<t.length;a++){var l=[].concat(t[a]);s&&n[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),e.push(l))}},e}},379:(t,e,i)=>{var s,n=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}(),o=[];function r(t){for(var e=-1,i=0;i<o.length;i++)if(o[i].identifier===t){e=i;break}return e}function a(t,e){for(var i={},s=[],n=0;n<t.length;n++){var a=t[n],l=e.base?a[0]+e.base:a[0],d=i[l]||0,c="".concat(l," ").concat(d);i[l]=d+1;var h=r(c),u={css:a[1],media:a[2],sourceMap:a[3]};-1!==h?(o[h].references++,o[h].updater(u)):o.push({identifier:c,updater:v(u,e),references:1}),s.push(c)}return s}function l(t){var e=document.createElement("style"),s=t.attributes||{};if(void 0===s.nonce){var o=i.nc;o&&(s.nonce=o)}if(Object.keys(s).forEach((function(t){e.setAttribute(t,s[t])})),"function"==typeof t.insert)t.insert(e);else{var r=n(t.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}return e}var d,c=(d=[],function(t,e){return d[t]=e,d.filter(Boolean).join("\n")});function h(t,e,i,s){var n=i?"":s.media?"@media ".concat(s.media," {").concat(s.css,"}"):s.css;if(t.styleSheet)t.styleSheet.cssText=c(e,n);else{var o=document.createTextNode(n),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(o,r[e]):t.appendChild(o)}}function u(t,e,i){var s=i.css,n=i.media,o=i.sourceMap;if(n?t.setAttribute("media",n):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=s;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(s))}}var f=null,m=0;function v(t,e){var i,s,n;if(e.singleton){var o=m++;i=f||(f=l(e)),s=h.bind(null,i,o,!1),n=h.bind(null,i,o,!0)}else i=l(e),s=u.bind(null,i,e),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return s(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;s(t=e)}else n()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===s&&(s=Boolean(window&&document&&document.all&&!window.atob)),s));var i=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var s=0;s<i.length;s++){var n=r(i[s]);o[n].references--}for(var l=a(t,e),d=0;d<i.length;d++){var c=r(i[d]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}i=l}}}},609:t=>{t.exports=jQuery}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var o=e[s]={id:s,exports:{}};return t[s](o,o.exports,i),o.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{const t={firstValue:0,secondValue:0,isRange:!0,max:100,min:0,step:1},e={target:void 0,isHorizontal:!0,isRange:!0,hasTooltip:!0,hasProgressBar:!0,hasScale:!0};var s,n;!function(t){t.valueChanged="valueChanged",t.pointStopped="pointStopped",t.pointMoving="pointMoving",t.updatePoint="updatePoint",t.configChanged="configChanged"}(s||(s={})),function(t){t.firstPoint="firstPoint",t.secondPoint="secondPoint"}(n||(n={}));const o=class{constructor(){this.events={}}emit(t,e){const i=this.events[t];i&&i.forEach((t=>t(e)))}subscribe(t,e){const i=this.events[t];return i&&!i.includes(e)?i.push(e):this.events[t]=[e],this}},r=class extends o{constructor(e){super(),this.config=t,e&&this.updateConfig(e)}updateConfig(t){this.config={...this.config,...t},this.validate(),this.notifyListeners()}getConfig(){return this.config}changeValue(t){const{max:e,min:i}=this.config,{value:s,pointName:n}=t;if(void 0===s)return;const o=100/(e-i)*(this.findNearestValue(s)-i);this.updatePoint({...t,value:s,pointName:n,pointOffset:o})}updatePoint(t){const e=this.calcValue(t);this.emit(s.updatePoint,{...t,value:e}),"firstPoint"!==t.pointName||Number.isNaN(e)||(this.config.firstValue=e),"secondPoint"!==t.pointName||Number.isNaN(e)||(this.config.secondValue=e)}notifyListeners(){const{firstValue:t,secondValue:e}=this.config,i=this.calcSteps();this.changeValue({steps:i,value:t,pointName:"firstPoint",pointOffset:0}),this.changeValue({value:e,pointName:"secondPoint",pointOffset:0})}validate(){this.validateMinMax(),this.validateValues(),this.validateStep()}validateValues(){let{firstValue:t,secondValue:e}=this.config;"number"!=typeof t&&(t=Number(t)),"number"!=typeof e&&(e=Number(e)),Number.isFinite(t)||(t=0),Number.isFinite(e)||(e=1),t>=e&&(t=e-1),e<=t&&(e=t+1),this.config={...this.config,firstValue:t,secondValue:e}}validateMinMax(){let{max:t,min:e}=this.config;"number"!=typeof e&&(e=Number(e)),"number"!=typeof t&&(t=Number(t)),Number.isFinite(t)||(t=100),Number.isFinite(e)||(e=0),e>=t&&(e=t-1),t<=e&&(t=e+1),this.config={...this.config,max:t,min:e}}validateStep(){const{max:t,min:e}=this.config;let{step:i}=this.config;"number"!=typeof i&&(i=Number(i)),Number.isFinite(i)||(i=1),i>=t-e&&(i=t-e),i<=0&&(i=1),this.config={...this.config,step:i}}roundByStep(t){const{step:e}=this.config,i=Number.isInteger(e),s=String(e).split(".").pop()?.length;return Number(i?t.toFixed(0):t.toFixed(s))}calcValue(t){const{max:e,min:i}=this.config,{pointOffset:s}=t,n=i+s*(e-i)/100,o=this.roundByStep(n);return o===e?o:this.findNearestValue(o)}calcSteps(){const{max:t,min:e,step:i}=this.config,s=[];let n,o=e;for(;o<t;o+=i)n=this.findNearestValue(o),s.push(n);return s.push(t),s}findNearestValue(t){const{max:e,min:i,step:s}=this.config,n=this.roundByStep(t),o=[];for(let t=i;t<e;t+=s)this.roundByStep(t),o.push(t);o.push(e);const r=o.find(((t,e,i)=>{const s=(t+i[e+1])/2;return n<=s}));return this.roundByStep(r??e)}};var a=i(379),l=i.n(a),d=i(788);l()(d.Z,{insert:"head",singleton:!1}),d.Z.locals;var c=i(462);l()(c.Z,{insert:"head",singleton:!1}),c.Z.locals;var h=i(487);l()(h.Z,{insert:"head",singleton:!1}),h.Z.locals;const u=class{constructor(t,e){this.isHorizontal=t.isHorizontal,this.divElement=this.createTooltip(t,e)}changeValue(t){this.divElement.innerHTML=`${t}`}getValue(){return Number(this.divElement.innerHTML)}hide(){const t="tooltip_hidden";this.divElement.classList.add(t,`js-${t}`)}show(){const t="tooltip_hidden";this.divElement.classList.remove(t,`js-${t}`)}getOffset(){return this.isHorizontal?this.divElement.getBoundingClientRect().left:this.divElement.getBoundingClientRect().top}addModifierTotal(){const t="tooltip_type_total";this.divElement.classList.add(t,`js-${t}`)}createTooltip(t,e){this.divElement=document.createElement("div");if(this.divElement.classList.add("tooltip","js-tooltip"),!this.isHorizontal){const t="tooltip_vertical";this.divElement.classList.add(t,`js-${t}`)}return this.divElement.innerHTML="0",e.append(this.divElement),t.hasTooltip||this.hide(),this.divElement}},f=class{constructor(t,e){this.root=e,this.isHorizontal=t.isHorizontal,this.divElement=this.createPoint(),this.tooltip=new u(t,this.divElement)}movePoint(t){const e=this.isHorizontal?"left":"top";let i=t;i<0&&(i=0),i>100&&(i=100),this.divElement.style[e]=`${i}%`}getOffset(){const t=this.isHorizontal?"offsetLeft":"offsetTop",e=this.isHorizontal?"offsetWidth":"offsetHeight";return 100*this.divElement[t]/this.root[e]}addTarget(){const t="point_target";this.divElement.classList.add(t,`js-${t}`)}removeTarget(){const t="point_target";this.divElement.classList.remove(t,`js-${t}`)}createPoint(){this.divElement=document.createElement("div");if(this.divElement.classList.add("point","js-point"),!this.isHorizontal){const t="point_vertical";this.divElement.classList.add(t,`js-${t}`)}return this.root.append(this.divElement),this.divElement}};var m=i(52);l()(m.Z,{insert:"head",singleton:!1}),m.Z.locals;const v=class{constructor(t){const{isHorizontal:e,isRange:i,hasProgressBar:s,firstPoint:n,secondPoint:o,root:r}=t;this.root=r,this.firstPoint=n,this.secondPoint=o,this.isHorizontal=e,this.hasProgressBar=s,this.isRange=i,this.divElement=this.createElement(),this.styleColor="progress-bar_color_first"}changeSize(){const t=this.isHorizontal?"width":"height",e=this.firstPoint.getOffset();if(this.divElement.style[t]=`${e}%`,this.isRange&&this.secondPoint){const i=this.secondPoint.getOffset(),s=this.isHorizontal?"left":"top";this.divElement.style[s]=`${e}%`;const n=i-e;this.divElement.style[t]=`${n}%`}this.changeColor()}hide(){const t="progress-bar_hidden";this.divElement.classList.add(t,`js-${t}`)}show(){const t="progress-bar_hidden";this.divElement.classList.remove(t,`js-${t}`)}createElement(){this.divElement=document.createElement("div");const t="progress-bar";if(this.divElement.classList.add(t,`js-${t}`),!this.isHorizontal){const t="progress-bar_vertical";this.divElement.classList.add(t,`js-${t}`)}return this.root.append(this.divElement),this.hasProgressBar||this.hide(),this.divElement}changeColor(){const t=this.isHorizontal?"offsetWidth":"offsetHeight",e=this.root[t],i=this.divElement[t];this.divElement.classList.remove(this.styleColor),this.divElement.classList.remove(`js-${this.styleColor}`),i<=e/4&&(this.styleColor="progress-bar_color_first"),i>=e/4&&(this.styleColor="progress-bar_color_second"),i>=e/2&&(this.styleColor="progress-bar_color_third"),i>=e&&(this.styleColor="progress-bar_color_fourth"),this.divElement.classList.add(this.styleColor,`js-${this.styleColor}`)}};var p=i(951);l()(p.Z,{insert:"head",singleton:!1}),p.Z.locals;var g=i(28);l()(g.Z,{insert:"head",singleton:!1}),g.Z.locals;const E=class extends o{constructor(t){super(),this.config=e,this.subViews=this.renderElements(),this.mouseCoords=0,this.addHandlers(),t&&this.updateConfig(t)}updateConfig(t){this.config={...this.config,...t},this.removeElements(),this.subViews=this.renderElements(),this.addHandlers()}getConfig(){return this.config}updatePoints(t){const{pointOffset:e,pointName:i,value:s,steps:n}=t,{firstPoint:o,secondPoint:r,progressBar:a}=this.subViews;"firstPoint"===i&&(o.movePoint(e),s&&o.tooltip.changeValue(s)),"secondPoint"===i&&(r?.movePoint(e),s&&r?.tooltip.changeValue(s)),a.changeSize(),void 0!==n&&this.updateScale(n),this.joinTooltips()}updateScale(t){this.subViews.scale.updateValues(t),this.addScaleHandler()}renderElements(){const{config:t}=this,e=new class{constructor(t){this.divElement=t??this.searchContainer()}createContainer(){return this.divElement=document.createElement("div"),this.divElement.classList.add("slider"),document.body.append(this.divElement),this.divElement}searchContainer(){const t=document.querySelector("[data-slider]");return t instanceof HTMLDivElement?(this.divElement=t,this.divElement):this.createContainer()}}(t.target),i=new class{constructor(t,e){this.divElement=this.createField(t,e)}createField(t,e){if(this.divElement=document.createElement("div"),this.divElement.classList.add("field","js-field"),!t.isHorizontal){const t="field_vertical";this.divElement.classList.add(t,`js-${t}`)}return e.append(this.divElement),this.divElement}}(t,e.divElement),s=new f(t,i.divElement),n=new class{constructor(t,e){const{isHorizontal:i,hasScale:s}=t;this.root=e,this.isHorizontal=i,this.hasScale=s,this.divElement=this.createScale(),this.scaleOffsets=[]}updateValues(t){this.calcScaleOffsets(t),this.divElement.innerHTML="";const e=this.isHorizontal?"left":"top",i=this.isHorizontal?"":"scale__value_vertical js-scale__value_vertical";t.forEach(((t,s)=>{const n=`${e}: ${this.scaleOffsets[s]}%`;this.divElement.insertAdjacentHTML("beforeend",`<div class="scale__value ${i}" style="${n}">${t}</div>`)})),this.removeExtraValues()}hideScale(){const t="scale_hidden";this.divElement.classList.add(t,`js-${t}`)}showScale(){const t="scale_hidden";this.divElement.classList.remove(t,`js-${t}`)}createScale(){if(this.divElement=document.createElement("div"),this.divElement.classList.add("scale","js-scale"),!this.isHorizontal){const t="scale_vertical";this.divElement.classList.add(t,`js-${t}`)}return this.root.append(this.divElement),this.hasScale||this.hideScale(),this.divElement}calcScaleOffsets(t){const e=t[0],i=t[t.length-1];this.scaleOffsets=[];const s=100/(i-e);t.forEach((t=>{const i=t-e;this.scaleOffsets.push(i*s)}))}removeExtraValues(){Array.from(this.divElement.children).forEach(((t,e,i)=>{0!==e&&(i.length-1!==e?this.isPreviousItemTooClose(t)&&t.remove():this.isPreviousItemTooClose(t)&&t.previousElementSibling?.remove())}))}isPreviousItemTooClose(t){const e=this.isHorizontal?"left":"top";return t.getBoundingClientRect()[e]<this.calcPreviousItemOffset(t)}calcPreviousItemOffset(t){const e=this.isHorizontal?"right":"bottom";return t.previousElementSibling?t.previousElementSibling.getBoundingClientRect()[e]+5:0}}(t,e.divElement),o=t.isRange?new f(t,i.divElement):void 0,r=t.isRange?new u(t,s.divElement):void 0;return r?.addModifierTotal(),{slider:e,field:i,firstPoint:s,secondPoint:o,tooltipTotal:r,progressBar:new v({root:i.divElement,firstPoint:s,secondPoint:o,...t}),scale:n}}removeElements(){const{firstPoint:t,secondPoint:e,field:i,progressBar:s,scale:n,slider:o}=this.subViews;[o.divElement,t.divElement,i.divElement,s.divElement,n.divElement,e?.divElement].forEach((t=>t?.remove()))}addHandlers(){this.addMouseMoveHandler(),this.addFieldHandler(),this.addPointHandler()}addMouseMoveHandler(){document.addEventListener("mousemove",this.calcMouseCoords)}calcMouseCoords=t=>{const{field:e}=this.subViews,i=this.config.isHorizontal?"left":"top",s=this.config.isHorizontal?"clientX":"clientY",n=this.config.isHorizontal?"offsetWidth":"offsetHeight",o=t[s]-e.divElement.getBoundingClientRect()[i];this.mouseCoords=100*o/e.divElement[n]};getFirstPointData=()=>{const{firstPoint:t}=this.subViews;return{pointOffset:t.getOffset(),pointName:"firstPoint",value:t.tooltip.getValue()}};getSecondPointData=()=>{const{secondPoint:t}=this.subViews;return{pointOffset:t?.getOffset()||0,pointName:"secondPoint",value:t?.tooltip.getValue()||0}};addPointHandler(){const{firstPoint:t,secondPoint:e}=this.subViews;t.divElement.addEventListener("mousedown",this.handlePointMouseDown),e?.divElement.addEventListener("mousedown",this.handlePointMouseDown)}handlePointMouseDown=t=>{const{firstPoint:e,secondPoint:i}=this.subViews;this.isFirstPointClosest(t)?this.handlePoint(e,this.getFirstPointData):i&&this.handlePoint(i,this.getSecondPointData)};addFieldHandler(){this.subViews.field.divElement.addEventListener("mousedown",this.handleFieldClick)}handleFieldClick=t=>{const{firstPoint:e,secondPoint:i}=this.subViews;this.isFirstPointClosest(t)?(e.movePoint(this.mouseCoords),this.emit(s.pointStopped,this.getFirstPointData())):(i?.movePoint(this.mouseCoords),this.emit(s.pointStopped,this.getSecondPointData()))};addScaleHandler(){this.subViews.scale.divElement.querySelectorAll("div").forEach((t=>t.addEventListener("click",this.handleScaleClick)))}handleScaleClick=t=>{const e=Number(t.currentTarget?.innerHTML);this.isFirstPointClosest(t)?this.emit(s.valueChanged,{...this.getFirstPointData(),value:e}):this.emit(s.valueChanged,{...this.getSecondPointData(),value:e})};handlePoint(t,e){const i=this.mouseCoords-t.getOffset(),n=()=>{t.movePoint(this.mouseCoords-i),this.demarcatePoints(e().pointName),this.emit(s.pointMoving,e())};document.addEventListener("mousemove",n),document.addEventListener("mouseup",(()=>{document.removeEventListener("mousemove",n),this.emit(s.pointStopped,e())}),{once:!0})}isFirstPointClosest(t){const{config:e,mouseCoords:i}=this,{firstPoint:s,secondPoint:n}=this.subViews;if(!e.isRange)return!0;if(!n)return!0;if(t.target===s.divElement)return!0;if(t.target===n.divElement)return!1;const o=s.getOffset();return!(i>(n.getOffset()+o)/2)}demarcatePoints(t){const{firstPoint:e,secondPoint:i}=this.subViews;i&&("firstPoint"===t?(e.addTarget(),i.removeTarget()):(i.addTarget(),e.removeTarget()),e.getOffset()<=i.getOffset()||("firstPoint"===t?e.movePoint(i.getOffset()):i.movePoint(e.getOffset())))}joinTooltips(){const{firstPoint:t,secondPoint:e,tooltipTotal:i}=this.subViews,{config:s}=this;if(!s.hasTooltip)return;if(!e||!i)return;const n=s.isHorizontal?"offsetWidth":"offsetHeight",o=t.tooltip,r=e.tooltip,a=o.getOffset()+o.divElement[n],l=r.getOffset(),d=(l-a)/2+"px",c=s.isHorizontal?"left":"top";i.divElement.style[c]=d;const h=o.getValue(),u=r.getValue(),f=`${h}${s.isHorizontal?" - ":" "}${u}`;i.divElement.innerHTML=f,a>=l?(o.hide(),r.hide(),i.show()):(o.show(),r.show(),i.hide())}};var b,P,C,y,w,H,S=i(609);class V extends o{constructor(t){super(),this.model=new r,this.view=new E,this.presenter=new class{constructor(t,e){this.model=t,this.view=e,this.subscribeListeners()}subscribeListeners(){const{model:t,view:e}=this;t.subscribe(s.updatePoint,e.updatePoints.bind(e)),e.subscribe(s.valueChanged,t.changeValue.bind(t)).subscribe(s.pointMoving,t.updatePoint.bind(t)).subscribe(s.pointStopped,t.changeValue.bind(t))}}(this.model,this.view),this.updateConfig(t)}setValue(t,e){"firstPoint"===t&&this.model.changeValue({value:e,pointName:"firstPoint",pointOffset:0}),"secondPoint"===t&&this.model.changeValue({value:e,pointName:"secondPoint",pointOffset:0})}updateConfig(i){const n=(e=>{const i=Object.keys(t),s=Object.entries(e);let n={};return s.forEach((([t,e])=>{i.includes(t)&&(n={...n,[t]:e})})),n})(i),o=(t=>{const i=Object.keys(e),s=Object.entries(t);let n={};return s.forEach((([t,e])=>{i.includes(t)&&(n={...n,[t]:e})})),n})(i);Object.keys(o).length>0&&this.view.updateConfig(o),this.model.updateConfig(n),this.emit(s.configChanged,{...this.model.getConfig(),...this.view.getConfig()})}getConfig(){return{...this.model.getConfig(),...this.view.getConfig()}}subscribe(t,e){return super.subscribe(t,e),this.model.subscribe(t,e),this.view.subscribe(t,e),this}}b=S,S.fn.sliderPlugin=function(t){return this.each((function(){b.data(this,"sliderPlugin")||b.data(this,"sliderPlugin",new V({...t,target:this}))}))},P="C:\\Users\\user\\Desktop\\GitHub\\slider\\src\\slider\\index.js",C="426de0d162245950e482d13ba795efcc9fe5db6e",w={path:"C:\\Users\\user\\Desktop\\GitHub\\slider\\src\\slider\\index.js",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},inputSourceMap:null,_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},(H=(y=new(0,function(){}.constructor)("return this")())["__coverage__"]||(y.__coverage__={}))[P]&&H[P].hash===C?H[P]:(w.hash=C,H[P]=w)})()})();